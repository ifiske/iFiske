<ion-header>
  <ion-navbar color="primary">
    <ion-title>{{ 'Permit' | translate }}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content no-bounce>
  <div class="permit-wrapper" ion-fixed *ngIf="permit">
    <div class="background" [ngClass]="'bg-' + permit.validity"></div>
    <app-permit *ngIf="permit" [permit]="permit"></app-permit>
  </div>

  <div padding *ngIf="failed" class="text-center">
    <h3 [innerHtml]="'errors.permit.failedHeader' | translate"></h3>
    <p class="preserve-newlines" [innerHtml]="'errors.permit.failedBody' | translate"></p>
  </div>
</ion-content>
<ion-footer>
  <button
    full
    ion-button
    color="secondary"
    (click)="openRules()"
    icon-left
    *ngIf="permit?.rule_t"
    class="footer-button"
  >
    <ion-icon name="document"></ion-icon>
    {{ 'Rules' | translate }}
  </button>
</ion-footer>
