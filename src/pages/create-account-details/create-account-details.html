<ion-header>
  <ion-navbar color="primary">
    <ion-title>{{ 'Create Account' | translate }}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-data-form [form]="form" [hideSubmit]="true"></ion-data-form>
  <ion-item no-lines class="terms">
    <ion-label>{{ 'I accept the terms of service' | translate }}</ion-label>
    <ion-checkbox
      [(ngModel)]="acceptedTos"
      (ionChange)="persistApproval()"
    ></ion-checkbox>
  </ion-item>
  <button
    ion-button
    block
    (click)="form.submit()"
    [disabled]="(!form.group.valid && !form.group.hasError('custom')) || !acceptedTos"
  >
    {{ 'Register' | translate }}
  </button>
</ion-content>
